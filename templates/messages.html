{% extends "base.html" %}

{% load static %}


{% block title %}Reels â€¢ Instagram{% endblock %}

{% block reels_active %}active{% endblock %}
{% block extra_css %}
.input-wrapper {
    position: relative;
    width: 100%;
}

.chat-input {
    width: 100%;
    padding: 10px 40px 10px 10px;
    font-size: 16px;
    box-sizing: border-box;
}

.send-icon {
    position: absolute;
    right: 10px;
    top: 50%;
    transform: translateY(-50%);
    color: #555;
    cursor: pointer;
}

{% endblock %}
{% block content %}

<div class="messages-container">
    <div class="messages-sidebar">
        <div class="messages-header">
            <h2>Messages</h2>
        </div>
        
        <div class="messages-list">
            {% for user in users %}
            <a style="text-decoration:none; color:white" href="{% url 'profile-another' pk=user.pk %}">
                <div class="message-item">
                    {% if user.avatar %}
                    <img class="message-avatar" src="{{ user.avatar.url }}">
                    {% else %}
                    <div style="display:flex;justify-content:center;align-items:center;font-size:larger;font-weight:bold"
                         class="message-avatar">{{ user.username|upper|first }}</div>
                    {% endif %}
                    <div class="message-info">
                        <h4>{{ user.username }}</h4>
                        <p class="message-preview">Hey, how are you doing?</p>
                    </div>
                </div>
            </a>
            {% endfor %}
        </div>
    </div>
    
    <div class="chat-area">
        <div class="chat-header">
            {% if request.user.avatar %}
            <img class="message-avatar" src="{{ user.avatar.url }}">
            {% else %}
            <div style="display:flex;justify-content:center;align-items:center;font-size:larger;font-weight:bold"
                 class="message-avatar">{{ request.user.username|upper|first }}</div>
            {% endif %}
            <h3>{{ request.user.username }}</h3>
        </div>
        
        <div class="chat-messages">
            <div style="text-align: center; color: #8e8e8e; margin-top: 100px;">
                <p>Select a conversation to start messaging</p>
                <p style="font-size: 14px; margin-top: 16px;">
                    Chat messages will appear here when you select a conversation from the sidebar.
                </p>
            </div>
        </div>
        
<form method="POST" class="chat-input-area">
    <div class="input-wrapper">
        <input type="text" class="chat-input" placeholder="Message...">
        <i class="fa-solid fa-paper-plane send-icon"></i>
    </div>
</form>

    </div>
</div>
{% endblock %}

{% block scripts %}
document.querySelector('.send-icon').addEventListener('click', () => {
  document.querySelector('.chat-input-area').submit();
});
{% endblock %}